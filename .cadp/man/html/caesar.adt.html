 <!-- manual page source format generated by PolyglotMan v3.0.7, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>CAESAR.ADT manual page</TITLE>
</HEAD>
<BODY bgcolor="white" fgcolor="black">
<A HREF="#toc">Table of Contents</A><P>
  
<H2><A NAME="sect0" HREF="#sect0">Name</A></H2>
caesar.adt - translation of LOTOS abstract data types into C 
<H2><A NAME="sect1" HREF="#sect1">Synopsis</A></H2>
<B>caesar.adt</B>
[<B>-cc</B> <I>options</I>] [<B>-comments</B>] [<B>-debug</B>] [<B>-depend</B>] [<B>-english</B>] [<B>-error</B>] [<B>-external</B>] [<B>-force</B>]
[<B>-french</B>] [<B>-functionality</B>] [<B>-indent</B>] [<B>-infix</B>] [<B>-iso</B>] [<B>-macro</B>] [<B>-map</B>] [<B>-more</B> <I>command</I>]
[<B>-numeral</B> <I>integer</I>] [<B>-prefix</B>] [<B>-silent</B>] [<B>-trace</B>] [<B>-verbose</B>] [<B>-version</B>] [<B>-warning</B>]
<I>filename</I>[<B>.lotos</B>]  
<H2><A NAME="sect2" HREF="#sect2">Description</A></H2>
<B>caesar.adt</B> [Gar89c,GT93] is a compiler that
translates LOTOS abstract data types into executable code. Quite often,
the code generated is given as input to the <A HREF="caesar.html"><B>caesar</B></A>
 compiler, but
it can also be used for other purpose. <P>
Taking as input <I>filename</I><B>.lotos</B>, which
contains a LOTOS specification, optionally accompanied by  <I>filename</I><B>.t</B>, which
contains hand-written C code, <B>caesar.adt</B>  produces an output file <I>filename</I><B>.h</B>
that contains C types and functions implementing the LOTOS sorts and operations
defined in <I>filename</I><B>.lotos</B>. <P>
Refer to the <A HREF="lotos.html"><B>lotos</B></A>
 manual page for a detailed
description of the conventions to be followed by <I>filename</I><B>.lotos</B> and <I>filename</I><B>.t</B>.

<H2><A NAME="sect3" HREF="#sect3">Options</A></H2>

<DL><DD><DL COMPACT>

<DT><B>-cc</B><I>&nbsp;options</I> </DT>
<DD>Pass <I>options</I> to the C compiler when it is invoked. <I>options</I>
is  a list of compiler options (enclosed in quotes or double quotes). These
options are appended to the compiler options, if any, contained in the
<B>$CADP_CC</B> environment variable (see ENVIRONMENT VARIABLES below). Not a default
option. </DD><P>

<DT><B>-comments</B> </DT>
<DD>Issue a warning message for each LOTOS sort or operation
which is not properly labelled by a special comment of the form <CODE>(*!...*)</CODE>. Not
a default option. </DD><P>

<DT><B>-debug&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Generate extra C code that helps to debug partial
non-constructor definitions. When a C function aborts because the corresponding
LOTOS  operation is not completely defined by its equations, the name of
the  function and the actual values of its arguments are displayed. Not
a default option. </DD><P>

<DT><B>-depend</B> </DT>
<DD>Display the list of library files included (directly
or transitively) in <I>filename</I>[<B>.lotos</B>] and stop. This list may be incomplete
if the LOTOS specification is syntactically incorrect. Not a default option.
</DD><P>

<DT><B>-english</B> </DT>
<DD>Print messages in English. Opposite of <B>-french</B>. This option overrides
the <B>$CADP_LANGUAGE</B> environment variable (see ENVIRONMENT VARIABLES below).
</DD><P>

<DT><B>-error&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>A file, <I>filename</I><B>.err</B>, is generated by <B>caesar.adt.</B> It contains detailed
error diagnostics. When it terminates, <B>caesar.adt</B> displays the content of
this file on the screen, using the <B>$CADP/src/com/cadp_more</B> command, unless
<B>-error</B> option is set. </DD><P>

<DT><B>-external</B> </DT>
<DD>Generate a skeleton file <I>filename</I><B>.t.proto</B> and/or
a skeleton file <I>filename</I><B>.f.proto</B> if the LOTOS specification contains sorts
and/or operations declared <CODE>(*!&nbsp;external&nbsp;*)</CODE>. These skeleton files are incomplete,
but form a basis for producing <I>filename</I><B>.t</B> and <I>filename</I><B>.f</B>. They have to be
completed manually (at the places marked "...") with an implementation in
C for external sorts and constructors, and/or operations. Also, it may be
necessary to modify manually the order of C type declarations in order
to avoid forward references. Not a default option. <P>
Note: if <I>filename</I><B>.t.proto</B>
and/or <I>filename</I><B>.f.proto</B> already exist in the current directory, <B>caesar.adt</B>
will not overwrite them, because they might have been modified manually.
</DD><P>

<DT><B>-force&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Force <B>caesar.adt</B> to regenerate <I>filename</I><B>.h</B> even if not necessary. Not
a default option. By default <B>caesar.adt</B> will attempt not to regenerate <I>filename</I><B>.h</B>
if this file already exists in the current directory, and if it has been
modified more recently than: <BR>
(1) the corresponding LOTOS file (<I>filename</I><B>.lotos</B>, <I>filename</I><B>.lot</B>, or <I>filename</I><B>.l</B>),
<BR>
(2) than any LOTOS library transitively included (using the "library" clause)
in this LOTOS file, <BR>
(3) than any C file included (using the "<CODE>#include</CODE>" clause) in <I>filename</I><B>.h</B>
itself, <BR>
(4) than the <I>filename</I><B>.t</B> file if this file exists in the current directory,
and <BR>
(5) than the <I>filename</I><B>.f</B> file if this file exists in the current directory.
</DD><P>

<DT><B>-french</B> </DT>
<DD>Print messages in French. Opposite of <B>-english</B>. This option overrides
the <B>$CADP_LANGUAGE</B> environment variable (see ENVIRONMENT VARIABLES below).
Even when this option is set, some warning and error messages related to
lexical and syntactic analysis may still be  displayed in English. </DD><P>

<DT><B>-functionality</B>
</DT>
<DD>Do not check functionality constraints (``<CODE>exit</CODE>'' and ``<CODE>noexit</CODE>''). Not a default
option. </DD><P>

<DT><B>-indent</B> </DT>
<DD>Do not format using the shell-script located in <B>$CADP/src/com/cadp_indent</B>
the generated file <I>filename</I><B>.h</B>, nor the  files <I>filename</I><B>.f.proto</B> and <I>filename</I><B>.t.proto</B>
generated by option <B>-external</B>. This option can be useful when the <B>indent</B>(1)
program invoked by <B>cadp_indent</B> crashes with a core dump,  although <B>cadp_indent</B>
is designed to recover properly in such  event. Not a default option. </DD><P>

<DT><B>-infix</B>
</DT>
<DD>Generate C code to print LOTOS binary operations in infix form when  appropriate.
Not a default option. </DD><P>

<DT><B>-iso&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Use the standard LOTOS semantics as defined in
ISO/IEC International Standard 8807, disabling the various language enhancements
mentioned in the section  EXTENSIONS TO LOTOS of the <A HREF="lotos.html"><B>lotos</B></A>
 manual
page and implemented in <B>caesar.adt</B>. Not a default option. Not to be used when
processing LOTOS specifications generated by <A HREF="lnt2lotos.html"><B>lnt2lotos</B></A>
 </DD><P>

<DT><B>-macro&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Prevent
LOTOS non-constructor operations to be implemented by C macro-definitions
(<CODE>#define</CODE>): all LOTOS non-constructor operations will be implemented as C
functions instead. Not a default option. </DD><P>

<DT><B>-map&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Generate <I>filename</I><B>.map</B> which gives
correspondence between sort and operation names occuring in <I>filename</I><B>.lotos</B>
and C type and function names occuring in <I>filename</I><B>.h</B>. Not a default option.
</DD><P>

<DT><B>-more</B><I>&nbsp;command</I><B></B> </DT>
<DD>Use <I>command</I> to display the error messages, instead of "<B>$CADP/src/com/cadp_more</B>"
which is the default. <I>command</I> is a shell command (preferably enclosed in
quotes or double quotes) containing the pathname of the chosen pager, possibly
followed by a list of options. Not a default option. </DD><P>

<DT><B>-numeral</B><I>&nbsp;integer</I><B></B> </DT>
<DD>Specify
the range of values to be used for implementing numeral sorts, i.e., all
sorts <I>S</I> that have two constructor operations <I>F1</I> : -&gt; <I>S</I> and <I>F2</I> : <I>S</I> -&gt; <I>S</I>, and
are thus isomorphic to natural numbers. If <I>integer</I> is greater than zero,
the range of values will be  0...(<I>integer</I>-1). If <I>integer</I> is less than zero,
the range of values will be 0...((2^(-<I>integer</I>))-1). With 64-bit versions of <B>caesar.adt</B>,
the highest positive values for <I>integer</I> are interpreted as the negative
numbers -64, -63, ..., -2, -1. By default, numeral sorts are represented using
a single byte (default value of <I>integer</I> is 256). This option does not apply
to those numeral sorts <I>S</I> for which <I>filename.</I><B>t</B> defines a corresponding macro
<CODE>CAESAR_ADT_HASH_...</CODE>. </DD><P>

<DT><B>-prefix</B> </DT>
<DD>Generate C code that prints LOTOS binary operations
always in prefix form. Default option. </DD><P>

<DT><B>-silent</B> </DT>
<DD>Execute silently. Opposite of
<B>-verbose</B>. Default option is <B>-verbose</B>. </DD><P>

<DT><B>-trace&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Generate extra C code that traces
all calls and returns for a selected set of C functions. This option also
sets the <B>-macro</B> option.  Not a default option. </DD><P>

<DT><B>-verbose</B> </DT>
<DD>Print one line for
each successive phase performed by <B>caesar.adt</B> to inform the user about the
progress of activities. Opposite of <B>-silent</B>. Default option is <B>-verbose</B>. </DD><P>

<DT><B>-version</B>
</DT>
<DD>Display the current version number of the software and stop. Not a default
option. </DD><P>

<DT><B>-warning</B> </DT>
<DD>Suppress all warning messages, keeping (more severe) error
messages,  at the risk of leaving undetected issues in the LOTOS specification.
Not a default option. </DD><P>
</DL></DD><P></DL>

<H2><A NAME="sect4" HREF="#sect4">Translation Phases</A></H2>
The architecture of <A HREF="caesar.adt.html"><B>caesar.adt</B></A>

follows the principles exposed in Section 1 of [GT93]. The translation from
LOTOS to C proceeds in several successive phases: 
<DL><DD><DL COMPACT>

<DT>- syntax analysis phase
</DT>
<DD>The LOTOS specification is lexically and syntactically analyzed using a
scanner and a parser that have been generated by the SYNTAX tool of INRIA,
which produces analyzers that emit pertinent error messages and perform,
as much as possible, automatic error recovery. Incorrect  LOTOS specifications
are rejected; otherwise, an abstract syntax tree is  built. This phase is
shared with <A HREF="caesar.html"><B>caesar</B></A>
 </DD><P>

<DT>- semantic analysis phase </DT>
<DD>The static semantics
constraints of the standard LOTOS definition are  checked on the abstract
syntax tree. This is done in several steps: binding  of processes, binding
of gates, binding of types, analysis of type signatures, binding of sorts,
binding of variables, binding of operations, and analysis  of process functionality.
The LOTOS specifications not matching these constraints are rejected. This
phase is also shared with <A HREF="caesar.html"><B>caesar</B></A>
 </DD><P>

<DT>- interface phase </DT>
<DD>The abstract syntax
tree is traversed and its fragment that represents the  abstract data types
defined in the source LOTOS specification is extracted and copied into
the <I>input tree</I>, a simpler syntax tree, which is itself specified using
LOTOS abstract data types. From this point, all the  forthcoming translation
steps are written in LOTOS, meaning that  the <B>caesar.adt</B> translator compiles
itself (i.e., is bootstrapped). </DD><P>

<DT>- verification phase </DT>
<DD>The additional static
semantics constraints listed in the section "RESTRICTIONS ON THE DATA PART"
of the <A HREF="lotos.html"><B>lotos</B></A>
 manual page are checked, and the LOTOS specifications
not satisfying these  constraints are rejected. </DD><P>

<DT>- type survey phase </DT>
<DD>If a
file named <I>filename</I><B>.t</B> exists, an auxiliary C program that includes this
file is generated, compiled, and executed so as to obtain information on
how external LOTOS sorts are implemented in <I>filename</I><B>.t</B>. This phase may fail
if the contents  of <I>filename</I><B>.t</B> are incorrect or incomplete. </DD><P>

<DT>- compilation
phase </DT>
<DD>The abstract sorts and operations represented in the input tree are
translated  into concrete types and functions, which are stored in the
<I>output tree</I>, another syntax tree closer to imperative languages, such as
C. </DD><P>

<DT>- optimization phase </DT>
<DD>Various transformations are applied to the output
tree, so as to reduce the space taken by types and the time spent in functions.
</DD><P>

<DT>- C translation phase </DT>
<DD>The output tree is traversed and decompiled to produce
C code stored  in <I>filename</I><B>.h</B>. </DD><P>

<DT>- indentation phase </DT>
<DD>The shell-script <B>cadp_indent</B>
is invoked to format the generated  file <I>filename</I><B>.h</B> unless option <B>-indent</B>
is set. </DD><P>
</DL></DD><P></DL>

<H2><A NAME="sect5" HREF="#sect5">Environment Variables</A></H2>

<DL><DD><DL COMPACT>

<DT><B>$CADP_LANGUAGE</B> </DT>
<DD>If this variable is set, its
value determines the language in which diagnostic messages will be reported.
Possible values are '<B>english</B>' and '<B>french</B>'. Incorrect values will be ignored
silently. If this variable is unset, it is given the default value '<B>english</B>'.
</DD><P>

<DT><B>$CADP_CC </B> </DT>
<DD>If this variable is set, its value determines the name of the
C compiler that will be invoked by <B>caesar.adt</B>. See file <B>$CADP/INSTALLATION_2</B>
for detailed information about this variable. If this variable is unset,
the script-shell <B>$CADP/src/com/cadp_cc</B> will automatically determine the
C compiler to be used by default. </DD><P>

<DT><B>$CADP_TMP</B> </DT>
<DD>If this variable is set, its
value determines the directory in which temporary files are created. If
this variable is unset, it is given the default value '<B>/tmp</B>'. </DD><P>

<DT><B>$PAGER</B> </DT>
<DD>If this
variable is set, its value will be used by the script-shell <B>$CADP/src/com/cadp_more</B>
to display error and warning messages. </DD><P>
</DL></DD><P></DL>

<H2><A NAME="sect6" HREF="#sect6">Exit Status</A></H2>
When the source is erroneous,
error messages are issued. Exit status is 0 if everything is alright, 1
otherwise. 
<H2><A NAME="sect7" HREF="#sect7">Operands</A></H2>
 
<DL><DD><DL COMPACT>

<DT><I>filename.</I><B>lotos</B> </DT>
<DD>LOTOS specification (input) </DD><P>

<DT><I>filename.</I><B>t</B>
</DT>
<DD>external C implementation for types (input) </DD><P>

<DT><I>filename.</I><B>t.proto</B> </DT>
<DD>skeleton for
<I>filename.</I><B>t</B> (output) </DD><P>

<DT><I>filename.</I><B>f</B> </DT>
<DD>external C implementation for functions (input)
</DD><P>

<DT><I>filename.</I><B>f.proto</B> </DT>
<DD>skeleton for <I>filename.</I><B>f</B> (output) </DD><P>

<DT><I>filename.</I><B>h</B> </DT>
<DD>C implementation
(output) </DD><P>

<DT><I>filename.</I><B>err</B> </DT>
<DD>detailed error messages (output) </DD><P>

<DT><I>filename.</I><B>map</B> </DT>
<DD>ADT correspondence
table (output) </DD><P>

<DT><I>libname.</I><B>lib</B> </DT>
<DD>user ADT library (input)  </DD><P>
</DL></DD><P></DL>
<P>
For simplicity, the
standard error stream is not used; all messages are  written to the standard
output stream, which is made unbuffered. The file <I>filename.</I><B>err</B> is created
at the beginning of execution and removed, if empty, at the  end of execution.

<H2><A NAME="sect8" HREF="#sect8">Files</A></H2>
 
<DL><DD><DL COMPACT>

<DT><B>$CADP/lib/</B><I>libname</I><B>.lib</B> </DT>
<DD>predefined ADT library (input) </DD><P>

<DT><B>$CADP/src/com/cadp_cc</B>
</DT>
<DD>C compiler shell </DD><P>

<DT><B>$CADP/src/com/cadp_more</B> </DT>
<DD>pager shell </DD><P>

<DT><B>$CADP/LICENSE</B> </DT>
<DD>license
file </DD><P>

<DT><B>$CADP_TMP/*.c</B> </DT>
<DD>C code generated during type survey (temporary) </DD><P>

<DT><B>$CADP_TMP/*.x</B>
</DT>
<DD>binary code for type survey (temporary) </DD><P>

<DT><B>$CADP_TMP/*.tsv</B> </DT>
<DD>results of type
survey (temporary)  </DD><P>
</DL></DD><P></DL>

<H2><A NAME="sect9" HREF="#sect9">Bibliography</A></H2>
[Gar89c] Hubert Garavel. Compilation of
LOTOS Abstract Data Types. In Son T. Vuong, editor, Proceedings of the 2nd
International Conference on Formal Description Techniques (FORTE'89), Vancouver,
Canada. North Holland, pages 147-162, December 1989. Available from <A HREF="http://cadp.inria.fr/publications/Garavel-89-c.html">http://cadp.inria.fr/publications/Garavel-89-c.html</A>

<P>
[GT93] Hubert Garavel and Philippe Turlier. CAESAR.ADT : un compilateur pour
les types abstraits algebriques du langage LOTOS. In Rachida Dssouli and
Gregor v. Bochmann, editors, Actes du Colloque Francophone pour l'Ingenierie
des Protocoles (CFIP'93), Montreal, Canada, 1993. Available from <A HREF="http://cadp.inria.fr/publications/Garavel-Turlier-93.html">http://cadp.inria.fr/publications/Garavel-Turlier-93.html</A>


<H2><A NAME="sect10" HREF="#sect10">See Also</A></H2>
<A HREF="caesar.html"><B>caesar</B></A>
, <A HREF="caesar.indent.html"><B>caesar.indent</B></A>
, <A HREF="lotos.html"><B>lotos</B></A>
 <A HREF="lotos.open.html"><B>lotos.open</B></A>
,
<P>
Additional information is available from the CADP Web page located at <A HREF="http://cadp.inria.fr">http://cadp.inria.fr</A>

<P>
Directives for installation are given in files <B>$CADP/INSTALLATION_*.</B> <P>
Recent
changes and improvements to this software are reported and commented in
file <B>$CADP/HISTORY.</B> 
<H2><A NAME="sect11" HREF="#sect11">Bugs</A></H2>
Please report bugs to <A HREF="mailto:cadp@inria.fr?Subject=CADP-Bug-Report">cadp@inria.fr</A> <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">Name</A></LI>
<LI><A NAME="toc1" HREF="#sect1">Synopsis</A></LI>
<LI><A NAME="toc2" HREF="#sect2">Description</A></LI>
<LI><A NAME="toc3" HREF="#sect3">Options</A></LI>
<LI><A NAME="toc4" HREF="#sect4">Translation Phases</A></LI>
<LI><A NAME="toc5" HREF="#sect5">Environment Variables</A></LI>
<LI><A NAME="toc6" HREF="#sect6">Exit Status</A></LI>
<LI><A NAME="toc7" HREF="#sect7">Operands</A></LI>
<LI><A NAME="toc8" HREF="#sect8">Files</A></LI>
<LI><A NAME="toc9" HREF="#sect9">Bibliography</A></LI>
<LI><A NAME="toc10" HREF="#sect10">See Also</A></LI>
<LI><A NAME="toc11" HREF="#sect11">Bugs</A></LI>
</UL>
</BODY></HTML>
