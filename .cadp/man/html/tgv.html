 <!-- manual page source format generated by PolyglotMan v3.0.7, -->
<!-- available via anonymous ftp from ftp.cs.berkeley.edu:/ucb/people/phelps/tcltk/rman.tar.Z -->

<HTML>
<HEAD>
<TITLE>TGV manual page</TITLE>
</HEAD>
<BODY bgcolor="white" fgcolor="black">
<A HREF="#toc">Table of Contents</A><P>
   <BR>
  <BR>
  <BR>
  <BR>
  <BR>
 
<H2><A NAME="sect0" HREF="#sect0">Name</A></H2>
tgv - Test Generation from transitions systems using Verification techniques
  <BR>
 
<H2><A NAME="sect1" HREF="#sect1">Synopsis</A></H2>
<B>bcg_open</B> [<I>bcg_opt</I>] <I>spec</I>[<B>.bcg</B>] [<I>cc_opt</I>]<I></I> <B>tgv</B> [<I>tgv_opt</I>]<I></I> <I>tp</I>[<B>.bcg</B>|<B>.aut</B>]
<P>
or: <P>
<B>exp.open</B> [<I>exp_opt</I>] <I>spec</I>[<B>.exp</B>] [<I>cc_opt</I>]<I></I> <B>tgv</B> [<I>tgv_opt</I>]<I></I> <I>tp</I>[<B>.bcg</B>|<B>.aut</B>] <P>
or: <P>
<B>fsp.open</B>
[<I>fsp_opt</I>] <I>spec</I>[<B>.lts</B>] [<I>cc_opt</I>]<I></I> <B>tgv</B> [<I>tgv_opt</I>]<I></I> <I>tp</I>[<B>.bcg</B>|<B>.aut</B>] <P>
or: <P>
<B>lnt.open</B> [<I>lnt_opt</I>]
<I>spec</I>[<B>.lnt</B>] [<I>cc_opt</I>]<I></I> <B>tgv</B> [<I>tgv_opt</I>]<I></I> <I>tp</I>[<B>.bcg</B>|<B>.aut</B>] <P>
or: <P>
<B>lotos.open</B> [<I>lotos_opt</I>] <I>spec</I>[<B>.lotos</B>]
[<I>cc_opt</I>]<I></I> <B>tgv</B> [<I>tgv_opt</I>]<I></I> <I>tp</I>[<B>.bcg</B>|<B>.aut</B>] <P>
or:  <P>
<B>seq.open</B> [<I>seq_opt</I>] <I>spec</I>[<B>.seq</B>] [<I>cc_opt</I>]<I></I>
<B>tgv</B> [<I>tgv_opt</I>]<I></I> <I>tp</I>[<B>.bcg</B>|<B>.aut</B>] 
<H2><A NAME="sect2" HREF="#sect2">Description</A></H2>
TGV allows the generation of an abstract
test case from a specification and a test purpose. The generation is done
"on-the-fly" on the synchronous product of the specification with the test
purpose. It is based on Tarjan's algorithm. During the depth-first search (DFS),
TGV performs abstraction and determinisation of this product. The DFS stops
when an accepting state of test purpose is reached. During the backtracking,
TGV synthesizes the transitions of the test case.    <P>
The specification and
the test purpose are Inputs/Outputs Labeled Transition Systems (IOLTS).
The specification is either the BCG graph <I>spec</I><B>.bcg</B>, the composition expression
<I>spec</I><B>.exp</B>, the FSP program <I>spec</I><B>.lts</B>, the LNT program <I>spec</I><B>.lnt</B>, the LOTOS program
<I>spec</I><B>.lotos</B>, or the sequence file <I>spec</I><B>.seq</B>. <P>
The test purpose is described either
in a BCG file  <I>tp</I><B>.bcg</B><I></I> or in an <B>AUT</B> file  <I>tp</I><B>.aut</B><I>.</I> <P>
TGV uses the  <A HREF="bcg_io.html"><B>bcg_io</B></A>

tool to transparently convert a test purpose in AUT format into the BCG
format, and to transform the generated test case or complete test graph
into the AUT format. 
<H2><A NAME="sect3" HREF="#sect3">BCG Format</A></H2>
See the <A HREF="bcg.html"><B>bcg</B></A>
 manual page. 
<H2><A NAME="sect4" HREF="#sect4">AUT Format</A></H2>
See
the <A HREF="aut.html"><B>aut</B></A>
 manual page. 
<H2><A NAME="sect5" HREF="#sect5">Test Purposes</A></H2>
A test purpose is an abstract description
of a subset of the specification, allowing to choose behaviors to test,
and consequently allowing to reduce the specification exploration. Final
states of the test purpose graph are either accepting states (the purpose
is reached) or refusing states (parts of the specification are rejected).
<P>
Accepting (respectively refusing) states must be given as loop-transitions
with the predefined label <CODE>ACCEPT</CODE> or <CODE>accept</CODE> (respectively <CODE>REFUSE</CODE> or <CODE>refuse</CODE>).
The purpose must own one accepting state at least. <P>
All action names are
regular expressions (according to the definition given in the manual page
of the POSIX <A HREF="regexp.html"><B>regexp</B></A>
). The test purpose is written in accordance with
the specification label names (before renaming and hidding). It can also
have transitions labelled with invisible actions of the specification. 
<P>
If the predefined label "<CODE>*</CODE>" (which means <CODE>otherwise</CODE>) is present on a transition
leaving some state <I>s</I>, this label represents all other actions than those
already present on the outgoing transitions of state <I>s</I>. <P>
So, for an AUT test
purpose, a transition has the following grammar:  <PRE>     &lt;transition&gt; ::=
         '(' &lt;from_state&gt; ',' &lt;action&gt; ',' &lt;to_state&gt; ')'  |
         '(' &lt;state&gt; ',' 'ACCEPT'|'accept' ',' &lt;state&gt; ')' |
         '(' &lt;state&gt; ',' 'REFUSE'|'refuse' ',' &lt;state&gt; ')' |
         '(' &lt;from_state&gt; ',' '*' ',' &lt;to_state&gt; ')'
     
     &lt;action&gt; ::= &lt;UNIX_regexp&gt; 
               | '"' &lt;UNIX_regexp&gt; '"'
</PRE><P>
Note: if the extension of the test purpose filename is omitted (or is different
from <B>.bcg</B> and <B>.aut</B>), the file is first searched with <B>.bcg</B> extension and then
with <B>.aut</B> extension. 
<H2><A NAME="sect6" HREF="#sect6">Test Cases</A></H2>
If the test purpose is valid, i.e. allows to
select sequences of the specification leading to an accepting state, TGV
produces an LTS that is the description of the test graph in the BCG format
(<B>.bcg</B>) or AUT (<B>.aut</B>) format. <P>
Actions labels of this LTS are based on those
of the specification, plus some predefined labels as <CODE>LOCK, OUTPUTLOCK,
DEADLOCK, LIVELOCK</CODE> used in lock transitions.  A tag (<CODE>INPUT</CODE> or <CODE>OUTPUT</CODE>), seen
from the tester's viewpoint, is added to each label. In some transitions,
a verdict (<CODE>PASS</CODE>) or <CODE>PASS</CODE> or (<CODE>INCONCLUSIVE</CODE>) or <CODE>INCONCLUSIVE</CODE> is also added
to the label. <P>
A <CODE>PASS</CODE> verdict on a transition means that in the state reached
by this transition, the tester has detected no implementation error in
the IUT. <P>
An <CODE>INCONCLUSIVE</CODE> verdict is present on a transition corresponding
to a possible output of the specification that leads to a sequence not
satisfying the test purpose. <P>
There is no <CODE>FAIL</CODE> verdict, as fail transitions
are implicit (from each state, unrecognized actions lead to a <CODE>FAIL</CODE> state).
<P>
A verdict not enclosed in parentheses means that the tester has reached
a stable state from which no output of the implementation under test (IUT)
is expected. 
<H2><A NAME="sect7" HREF="#sect7">Options</A></H2>
The options <I>bcg_opt</I>, if any, are passed to <A HREF="bcg_lib.html"><B>bcg_lib</B></A>
.
<P>
The options <I>exp_opt</I>, if any, are passed to <A HREF="exp.open.html"><B>exp.open</B></A>
. <P>
The options <I>fsp_opt</I>,
if any, are passed to <A HREF="fsp.open.html"><B>fsp.open</B></A>
. <P>
The options <I>lnt_opt</I>, if any, are passed
to <A HREF="lnt.open.html"><B>lnt.open</B></A>
. <P>
The options <I>lotos_opt</I>, if any, are passed to <A HREF="caesar.html"><B>caesar</B></A>

and to <A HREF="caesar.adt.html"><B>caesar.adt</B></A>
. <P>
The options <I>seq_opt</I>, if any, are passed to <A HREF="seq.open.html"><B>seq.open</B></A>
.
<P>
The options <I>cc_opt</I>, if any,  are passed to <B>cc</B>(1). <P>
The options <I>tgv_opt</I>, if
any, are passed to the TGV program. 
<H2><A NAME="sect8" HREF="#sect8">TGV Options</A></H2>
The following <I>tgv_opt</I> are
currently available: 
<DL><DD><DL COMPACT>

<DT><B>-verbose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Verbose mode: TGV displays information about
the calculations going on. Not a default option. </DD><P>

<DT><B>-io</B> <I>file</I>[<B>.io</B>] </DT>
<DD>Specify the
inputs/outputs of the specification, according to <I>file</I>[<B>.io</B>] (in case of
renaming with <B>-rename</B> option, the <B>.io</B> file must contain <I>renamed</I> labels). </DD><P>

<DT><B>-rename</B>
<I>file</I>[<B>.ren</B>|<B>.rename</B>] </DT>
<DD>Use the renaming rules defined in <I>file</I>[<B>.ren</B>|<B>.rename</B>] to rename
the labels of the product SPEC x TP. </DD><P>

<DT><B>-hide</B> <I>file</I>[<B>.hid</B>|<B>.hide</B>] </DT>
<DD>Use the hiding rules
defined in <I>file</I>[<B>.hid</B>|<B>.hide</B>] to hide some labels of the product SPEC x TP. </DD><P>

<DT><B>-tpprior&nbsp;&nbsp;&nbsp;&nbsp;</B>
</DT>
<DD>Priority to actions of the test purpose. By default, the actions of the
specification are prior. </DD><P>

<DT><B>-outprior&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Priority to the outputs. By default, the
inputs are prior. </DD><P>

<DT><B>-self&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>For each  state <I>s</I> of the test purpose such that <I>s</I>
does not have, for each action <I>a</I> of the specification, an outgoing transition
labelled with <I>a</I>, and <I>s</I> does not have an outgoing transition labelled with
the predefined label "<CODE>*</CODE>", silently add on state <I>s</I> a self-loop transition
labelled with "<CODE>*</CODE>". By default, such a self-loop transition is added too,
but a warning message is emitted for each such state <I>s</I>. </DD><P>

<DT><B>-hash</B><I>&nbsp;n&nbsp;&nbsp;&nbsp;</I> </DT>
<DD>Fix the table
hash size to <I>n</I> (by default, 100000).  </DD><P>

<DT><B>-depth</B><I>&nbsp;n</I> </DT>
<DD>Fix the maximum preamble-body
depth search to <I>n</I>. </DD><P>

<DT><B>-output</B> <I>file</I>[<B>.bcg</B>|<B>.aut</B>] [<B>-parse</B>|<B>-unparse</B>] </DT>
<DD>Specify the name<I>file</I>[<B>.bcg</B>|<B>.aut</B>]
of the output file in which TGV will display the test case. If the filename
extension is <B>.aut</B>, the result is an AUT file. Otherwise, the result file
is a BCG file with the <B>.bcg</B> extension. By default, the result is printed
on the BCG file <I>tgv_result</I><B>.bcg</B>. <BR>
&nbsp; <BR>
If the produced test case is in BCG format, options <B>-parse</B>  and <B>-unparse</B>
can be specified to control label parsing (see the <A HREF="bcg_write.html"><B>bcg_write</B></A>
 manual
page for a technical discussion about label parsing). Option <B>-parse</B> enables
label parsing and option <B>-unparse</B> disables label parsing. By default, label
parsing is enabled. </DD><P>

<DT><B>-label</B> </DT>
<DD>Display all fired labels. Notice that displaying
all labels of the specification can be obtained by using this option with
the following test purpose: <PRE>     des (0, 3, 2)
     (0, *, 0)
     (0, "dummy:", 1)
     (1, ACCEPT, 1).
</PRE></DD><P>

<DT><B>-keeplock&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>By default, TGV computes lock transitions (<CODE>LOCK</CODE>) and prints those
that remain after conflicts have been resolved. Use <B>-keeplock</B> (without <B>-csg</B>)
to keep all the computed locks (the produced test graph is no more completely
controllable). </DD><P>

<DT><B>-unlock</B>|<B>-difflock</B> </DT>
<DD>Avoid the printing of lock transitions with
option <B>-unlock</B>. Make difference between lock tags (<CODE>OUTPUTLOCK, DEADLOCK,
LIVELOCK</CODE>) with option <B>-difflock</B>.  </DD><P>

<DT><B>-csg</B>|<B>-unloop</B> </DT>
<DD>Compute the complete test graph
(option <B>-csg</B>) or compute a controllable test case without loop (option <B>-unloop</B>).
By default, TGV computes controllable test cases with loops.  <BR>
 </DD><P>

<DT><B>-post&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Search a postamble from pass and inconclusive states (i.e. a path to
stable states in which no message from the IUT is expected). </DD><P>

<DT><B>-postdepth</B><I>&nbsp;n</I>
</DT>
<DD>Fix the maximum postamble depth search to <I>n</I>. </DD><P>

<DT><B>-random &nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Compute a random test
case. Not a default option. </DD><P>

<DT><B>-randomseed</B><I>&nbsp;n</I> </DT>
<DD>Use <I>n</I> as seed for random test-case
generation. </DD><P>

<DT><B>-verif&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Do not annotate transition labels with input or output,
nor with verdicts, but generate separate, self-looping verdict transitions
for each verdict state. This option is incompatible with options <CODE>-timer</CODE>,
<CODE>-difflock</CODE>, and <CODE>-unlock</CODE>. </DD><P>

<DT><B>-timer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Produce a test case with test timers (TAC and
TNOAC). TAC is started when the tester is waiting for an output from the
IUT. TNOAC allows to detect a lock state of the IUT.       </DD><P>

<DT><B>-monitor&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Open a
window for monitoring in real-time the generation of the test case or complete
test graph. Not a default option. </DD><P>

<DT><B>-parse&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Enable label parsing when reading
files in the AUT format and/or writing files in the BCG format (see the
<A HREF="bcg_write.html"><B>bcg_write</B></A>
 manual page for a technical discussion about label parsing).
Note that this also applies to the implicit conversions of command-line
arguments in the AUT format. Default option. </DD><P>

<DT><B>-unparse&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</B> </DT>
<DD>Disable label parsing
when reading files in the AUT format and/or writing files in the BCG format
(see the <A HREF="bcg_write.html"><B>bcg_write</B></A>
 manual page for a technical discussion about
label parsing). Note that this also applies to the implicit conversions
of command-line arguments in the AUT format. Not a default option. </DD><P>
</DL></DD><P></DL>

<H2><A NAME="sect9" HREF="#sect9">I/O File</A></H2>
It
is recommended to write an <B>.io</B> file, to distinguish between inputs and outputs.
The <B>.io</B> file describes a set of actions, according to the following grammar:
 <PRE>       &lt;file.io&gt; ::= 'input' | 'output' \n &lt;regexp-list&gt;
       &lt;regexp-list&gt; ::= &lt;regexp&gt; \n &lt;regexp-list&gt;
                       | "&lt;regexp&gt;" \n &lt;regexp-list&gt;
                       | &lt;empty&gt;
</PRE><P>
Semantically, if the first line is equal to <CODE>input</CODE> (respectively <CODE>output</CODE>),
the body of the file describes all the inputs actions (respectively all
outputs actions).  <P>
Note: If option <B>-io</B> is not given, TGV uses by default
the file <B>$CADP/src/tgv/default.io</B> the contents of which are: <PRE>           input         
           [^!]*[?].*
</PRE><P>

<H2><A NAME="sect10" HREF="#sect10">Hide File</A></H2>
This is an optional input file. See the <A HREF="caesar_hide_1.html"><B>caesar_hide_1</B></A>
 manual
page for the grammar description and examples. 
<H2><A NAME="sect11" HREF="#sect11">Rename File</A></H2>
This is an optional
input file. See the <A HREF="caesar_rename_1.html"><B>caesar_rename_1</B></A>
 manual page for the grammar description
and examples. <P>
Note 1: renaming patterns are applied <I>before</I> hiding patterns.
Renaming and hiding patterns are applied after the synchronous product
SPECxTP. <P>
Note 2: the  <B>.io</B> file must be written in accordance with the  <B>.ren</B>
(or <B>.rename</B> ) and <B>.hid</B> (or  <B>.hide</B> ) files (because the <B>.io</B> file is read after
the renaming and hiding). 
<H2><A NAME="sect12" HREF="#sect12">TGV Messages</A></H2>
If TGV produces a test case,  the
execution finishes with the following message: "<CODE>File</CODE>&nbsp;<I>file</I>&nbsp;<CODE>produced</CODE>". Otherwise,
the message "<CODE>No&nbsp;test&nbsp;case</CODE>" is printed: may be it is because the test purpose
is not valid, or because of an error in the description of files <B>.io</B> or
<B>.hid</B> or <B>.ren</B> 
<H2><A NAME="sect13" HREF="#sect13">Authors</A></H2>
Thierry Jéron (<A HREF="mailto:Thierry.Jeron@irisa.fr?Subject=CADP-Bug-Report">Thierry.Jeron@irisa.fr</A>), Pierre Morel, and
Séverine Simon. A few patches were brought by Wendelin Serwe and Hubert
Garavel in December  2004. Since then, TGV has been ported to 64-bit architectures
and regularly maintained by Wendelin Serwe and Hubert Garavel. 
<H2><A NAME="sect14" HREF="#sect14">See Also</A></H2>
OPEN/CAESAR
Reference Manual, <A HREF="bcg.html"><B>bcg</B></A>
, <A HREF="bcg_open.html"><B>bcg_open</B></A>
, <A HREF="caesar.html"><B>caesar</B></A>
, <A HREF="caesar.adt.html"><B>caesar.adt</B></A>
,
<A HREF="exp.html"><B>exp</B></A>
, <A HREF="exp.open.html"><B>exp.open</B></A>
, <A HREF="fsp.open.html"><B>fsp.open</B></A>
, <A HREF="lnt.open.html"><B>lnt.open</B></A>
, <A HREF="lotos.html"><B>lotos</B></A>
,
<A HREF="lotos.open.html"><B>lotos.open</B></A>
, <A HREF="seq.html"><B>seq</B></A>
, <A HREF="seq.open.html"><B>seq.open</B></A>
 
<H2><A NAME="sect15" HREF="#sect15">Bugs</A></H2>
Please report any bug
to <A HREF="mailto:cadp@inria.fr?Subject=CADP-Bug-Report">cadp@inria.fr</A> <P>

<HR><P>
<A NAME="toc"><B>Table of Contents</B></A><P>
<UL>
<LI><A NAME="toc0" HREF="#sect0">Name</A></LI>
<LI><A NAME="toc1" HREF="#sect1">Synopsis</A></LI>
<LI><A NAME="toc2" HREF="#sect2">Description</A></LI>
<LI><A NAME="toc3" HREF="#sect3">BCG Format</A></LI>
<LI><A NAME="toc4" HREF="#sect4">AUT Format</A></LI>
<LI><A NAME="toc5" HREF="#sect5">Test Purposes</A></LI>
<LI><A NAME="toc6" HREF="#sect6">Test Cases</A></LI>
<LI><A NAME="toc7" HREF="#sect7">Options</A></LI>
<LI><A NAME="toc8" HREF="#sect8">TGV Options</A></LI>
<LI><A NAME="toc9" HREF="#sect9">I/O File</A></LI>
<LI><A NAME="toc10" HREF="#sect10">Hide File</A></LI>
<LI><A NAME="toc11" HREF="#sect11">Rename File</A></LI>
<LI><A NAME="toc12" HREF="#sect12">TGV Messages</A></LI>
<LI><A NAME="toc13" HREF="#sect13">Authors</A></LI>
<LI><A NAME="toc14" HREF="#sect14">See Also</A></LI>
<LI><A NAME="toc15" HREF="#sect15">Bugs</A></LI>
</UL>
</BODY></HTML>
