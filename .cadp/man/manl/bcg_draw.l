.\" @(#)bcg_draw.l - VASY and CONVECS teams - 2013/09/09
.TH BCG_DRAW LOCAL "2013/09/09" "(C) INRIA" "CADP MANUAL PAGES"
.fp 4 CB
.lg 0
.SH NAME
bcg_draw \- display graphs encoded in the BCG format

.SH SYNOPSIS
.B bcg_draw
[
.I bcg_options
]
[
.B \-ps
]
[
.B \-eps
]
[
.BI \-size \ x\ y
]
[
.BI \-paper \ z
]
[
.B \-bg
]
[
.B \-fg
]
.IB filename [.bcg] 

.SH DESCRIPTION
This command takes as input the BCG graph
.IB filename .bcg
and displays this graph in an X11 window using the PostScript
viewer specified by the environment variable \fB$CADP_PS_VIEWER\fP
(see below).
.P
Alternatively, \fBbcg_draw\fP can generate PostSript files (which can
be printed) as well as Encapsulated PostScript files (which can be
included in electronic documents).
.P
\fBbcg_draw\fP attempts to provide nice graphical representations
for BCG graphs. It borrows ideas from a prototype tool for 2D
graph drawing developed by Claude Jard and Thierry Jeron (IRISA,
Rennes, France). Radu Mateescu added various placement heuristics 
for states and labels, so as to reduce the number of edge intersections
and label overwriting, while trying to preserve symmetry.
.P
A dynamic library corresponding to 
.IB filename .bcg
may be generated if necessary.
.P
The format of the PostScript files generated by \fBbcg_draw\fP is described
in a technical report (see the files \fB$CADP/doc/*/Tock-95.*)\fP.
.P
The PostScript files generated by \fBbcg_draw\fP can be modified interactively
using the
.BR bcg_edit (LOCAL)
command.

.SH GENERAL OPTIONS
The following \fIbcg_options\fP are currently supported: 
\fB-version\fP, \fB-create\fP, \fB-update\fP, \fB-remove\fP, \fB-cc\fP, 
and \fB-tmp\fP. See the
.BR bcg (LOCAL)
manual page for a description of these options.

.SH PARTICULAR OPTIONS
The following options are also suported:

.TP
.B \-ps
Do not display the graph, but generate instead a PostScript file named 
.IB filename .ps .

.TP
.B \-eps
Do not display the graph in an X11 window, but generate instead an
Encapsulated PostScript file named
.IB filename .ps .
The bounding box of the picture is computed according to the value of
the environment variable \fB$CADP_PS_INTERPRETER\fP (see below).

.TP
.BI \-size \ x\ y
Reduce the size of the picture to a rectangle of length \fIx\fP and
height \fIy\fP, where \fIx\fP and \fIy\fP are two dimensions 
expressed in points (1 cm = 28.3 points, 1 inch = 72 points).
By default, an A4 page format is selected.

.TP
.BI \-paper \ z
Reduce the size of the picture to a rectangle of format \fIz\fP, where
\fIz\fP is a character string that may take one of the following values:
Letter, A0, A1, A2, A3, A4, or A5.
By default, an A4 page format is selected.
The \fI-size\fP and \fI-paper\fP options are mutually exclusive.

.TP
.B \-bg
When displaying the graph, open a display window running in background mode. 
The execution of \fBbcg_draw\fP will terminate immediately after this display 
window is started. 
Default option.

.TP
.B \-fg
When displaying the graph, open a display window running in foreground mode,
The execution of \fBbcg_draw\fP will only terminate when the user quits the 
display window. 
Not a default option.

.SH SAMPLE DRAWINGS

.ce 1
see http://cadp.inria.fr/man/pictures/bcg_draw.jpg
.ce 1
.I "Graph drawings produced by bcg_draw"

.SH ENVIRONMENT VARIABLES

See the
.BR bcg (LOCAL)
manual page for a description of the environment variables used by all
the BCG application tools.  In addition, the following environment
variables are used by \fBbcg_draw\fP:
.TP
.B $CADP_PS_VIEWER
If this variable is set, its value determines the name of the
PostScript viewer that will be invoked by \fBbcg_draw\fP (the name
of the viewer may be followed by options). Otherwise, \fBbcg_draw\fP 
will search (in the list of directories defined by the \fB$PATH\fP 
variable plus in a set of plausible default locations) for a viewer 
named '\fBghostview\fP' under Unix and '\fBgsview32.exe\fP' under Windows.
.TP
.B $CADP_PS_INTERPRETER 
If this variable is set, its value determines the name of the
PostScript tool that will be invoked by \fBbcg_draw\fP with option 
\fB-eps\fP to compute the bounding box of the Encapsulated PostScript
file. Otherwise, \fBbcg_draw\fP will search (in the list of directories 
defined by the \fB$PATH\fP variable plus in a set of plausible default 
locations) for a tool named '\fBgs\fP' under Unix and '\fBgswin32c.exe\fP' 
under Windows.

.SH EXIT STATUS
Exit status is 0 if everything is alright, 1 otherwise.

.SH AUTHORS
Renaud Ruffiot, Radu Mateescu, Hubert Garavel, Louis-Pascal Tock, Marc Herbert

.SH OPERANDS
.PD 0
.TP 17
.IB filename .bcg
BCG graph (input)
.TP
.IB filename @1.o
dynamic library (input or output)
.TP
.IB filename .ps
PostScript file (output)
.PD

.SH FILES
.PD 0
.TP 33
.B $CADP/com/bcg_draw
``\fBbcg_draw\fP'' shell script
.TP
.B $CADP/bin.`arch`/libbcg_draw.a
``\fBbcg_draw\fP'' static library
.TP 
.B $CADP/src/bcg_draw/bcg_draw_*.ps
PostScript header & footer 
.TP
.B $CADP/src/com/cadp_postscript
auxiliary shell script
.TP
.B $CADP/src/com/cadp_psbox
auxiliary shell script 
.PD
.P
See the
.BR bcg (LOCAL)
manual page for a description of the other files.

.SH SEE ALSO
.BR bcg (LOCAL),
.BR bcg_edit (LOCAL).
.P
Additional information is available from the CADP Web page located at
http://cadp.inria.fr
.P
Directives for installation are given in files \fB$CADP/INSTALLATION_*\fP.
.P
Recent changes and improvements to this software are reported
and commented in file \fB$CADP/HISTORY\fP.

.SH BUGS

\fBbcg_draw\fP is far from being perfect. There are several known problems, 
such as frequent overwriting of transitions and labels, even for small graphs.
For large BCG graphs, the 2D representation is likely to be untractable 
by the user.
.P
Please report bugs to Hubert.Garavel@inria.fr

